class Solution(object):
  def sumSubarrayMins(self, A):
    """
    :type A: List[int]
    :rtype: int
    """
    # TIME LIMIT EXCEEDED
    MOD = 10**9 + 7
    result = 0
    while len(A) > 0:
      result = (result + sum(A)) % MOD
      for i in range(len(A)-1):
        A[i] = min(A[i], A[i+1])
      A.pop(len(A)-1)
    return result


a = Solution()
print(a.sumSubarrayMins([3, 1, 2, 4]))
